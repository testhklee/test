DROP TABLE PROJECT_ACTIVITY PURGE;

/* 프로젝트 활동 내역 */
CREATE TABLE PROJECT_ACTIVITY (
	SOUP_NO NUMBER NOT NULL, /* 프로젝트 번호 */
	MEMBER_NO NUMBER NOT NULL, /* 활동한 회원 번호 */
	PROJECT_ACTIVITY_CONTENT VARCHAR2(300) NOT NULL, /* 활동 내역 */
	PROJECT_ACTIVITY_DATE DATE NOT NULL /* 활동 날짜 */
);

ALTER TABLE PROJECT_ACTIVITY
	ADD
		CONSTRAINT FK_SOUP_TO_PROJECT_ACTIVITY
		FOREIGN KEY (
			SOUP_NO
		)
		REFERENCES SOUP (
			SOUP_NO
		);

ALTER TABLE PROJECT_ACTIVITY
	ADD
		CONSTRAINT FK_MEMBER_TO_PROJECT_ACTIVITY
		FOREIGN KEY (
			MEMBER_NO
		)
		REFERENCES MEMBER (
			MEMBER_NO
		);
		
		
SELECT * FROM PROJECT_ACTIVITY

SELECT * FROM SOUP_MEMBER WHERE SOUP_NO = 21
DELETE FROM PROJECT_ACTIVITY

INSERT INTO PROJECT_ACTIVITY VALUES(21, 27, '"1번글"(을)를 "진행 중"(으)로 옮겼습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 28, '"공지3"(을)를 "공지사항"에 게시하였습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 29, '"3번글"(을)를 "할 일"에 게시하였습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 30, '"1번글"(을)를 "할 일"(으)로 옮겼습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 31, '"수지"님이 프로젝트에 참여하였습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 27, '"1번글"(을)를 "진행 중"(으)로 옮겼습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 28, '"공지3"(을)를 "공지사항"에 게시하였습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 29, '"3번글"(을)를 "할 일"에 게시하였습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 30, '"1번글"(을)를 "할 일"(으)로 옮겼습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 27, '"1번글"(을)를 "진행 중"(으)로 옮겼습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 28, '"공지3"(을)를 "공지사항"에 게시하였습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 29, '"3번글"(을)를 "할 일"에 게시하였습니다.', SYSDATE);
INSERT INTO PROJECT_ACTIVITY VALUES(21, 30, '"1번글"(을)를 "할 일"(으)로 옮겼습니다.', SYSDATE);

SELECT MEMBER_NAME, MEMBER_FACE, PROJECT_ACTIVITY_CONTENT, PROJECT_ACTIVITY_DATE
  FROM PROJECT_ACTIVITY
 INNER JOIN MEMBER
 USING (MEMBER_NO)
 WHERE SOUP_NO = 21
 ORDER BY PROJECT_ACTIVITY_DATE ASC
 