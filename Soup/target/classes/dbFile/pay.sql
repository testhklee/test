/* 결제 */
DROP TABLE PAY PURGE;
DROP SEQUENCE PAY_SQ ;

/* 결제 */
CREATE SEQUENCE PAY_SQ;
CREATE TABLE PAY (
	PAY_CODE VARCHAR2(100) NOT NULL, /* 결제 코드 */
	MEMBER_NO NUMBER NOT NULL, /* 회원 번호 */
	SOUP_NO NUMBER NOT NULL, /* 결제 스터디 번호 */
	SOUP_PRICE NUMBER NOT NULL, /* 결제 금액 */
	PAY_METHOD VARCHAR2(50) NOT NULL, /* 결제 수단 */
	PAY_DATE DATE NOT NULL /* 결제 날짜 */
);

ALTER TABLE PAY
	ADD
		CONSTRAINT PK_PAY
		PRIMARY KEY (
			PAY_CODE
		);

ALTER TABLE PAY
	ADD
		CONSTRAINT FK_MEMBER_TO_PAY
		FOREIGN KEY (
			MEMBER_NO
		)
		REFERENCES MEMBER (
			MEMBER_NO
		) ON DELETE CASCADE;

ALTER TABLE PAY
	ADD
		CONSTRAINT FK_SOUP_TO_PAY
		FOREIGN KEY (
			SOUP_NO
		)
		REFERENCES SOUP (
			SOUP_NO
		) ON DELETE CASCADE;
		
